<!-- Settings Management Modal -->
<div id="settings-modal" class="modal" style="display: none;">
  <div class="modal-overlay" id="settings-modal-overlay"></div>
  <div class="modal-content" style="max-width: 800px;">
    <div class="modal-header">
      <h2 class="modal-title">‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <button type="button" class="modal-close" id="close-settings-modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
        <span>√ó</span>
      </button>
    </div>
    <div class="modal-body">
      <div id="settings-loading" style="text-align: center; padding: var(--md-spacing-lg);">
        <div>‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫...</div>
      </div>
      <div id="settings-form" style="display: none;">
        <div style="display: grid; gap: var(--md-spacing-lg);">
          <!-- Database Settings -->
          <div>
            <h3 style="margin: 0 0 var(--md-spacing-md) 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface);">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
            <div style="display: grid; gap: var(--md-spacing-md);">
              <div>
                <label class="form-label">–•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</label>
                <input type="text" class="form-input" id="setting-DB_HOST" placeholder="localhost">
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</label>
                  <input type="text" class="form-input" id="setting-DB_USER" placeholder="freepbxuser">
                </div>
                <div>
                  <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                  <input type="password" class="form-input" id="setting-DB_PASS" placeholder="password">
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</label>
                  <input type="text" class="form-input" id="setting-DB_NAME" placeholder="asterisk">
                </div>
                <div>
                  <label class="form-label">–ê–¥–∞–ø—Ç–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</label>
                  <select class="form-input" id="setting-DB_ADAPTER">
                    <option value="mysql2">mysql2</option>
                    <option value="sequelize">sequelize</option>
                    <option value="knex">knex</option>
                    <option value="objection">objection</option>
                    <option value="bookshelf">bookshelf</option>
                    <option value="typeorm">typeorm</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="form-label">–õ–∏–º–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π</label>
                <input type="number" class="form-input" id="setting-DB_CONNECTION_LIMIT" placeholder="20" min="1">
              </div>
            </div>
          </div>

          <!-- SMTP Settings -->
          <div>
            <h3 style="margin: 0 0 var(--md-spacing-md) 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface);">SMTP (Email)</h3>
            <div style="display: grid; gap: var(--md-spacing-md);">
              <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">SMTP —Å–µ—Ä–≤–µ—Ä</label>
                  <input type="text" class="form-input" id="setting-SMTP_HOST" placeholder="smtp.gmail.com">
                </div>
                <div>
                  <label class="form-label">–ü–æ—Ä—Ç</label>
                  <input type="number" class="form-input" id="setting-SMTP_PORT" placeholder="587" min="1" max="65535">
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                  <input type="email" class="form-input" id="setting-SMTP_USER" placeholder="your_email@gmail.com">
                </div>
                <div>
                  <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                  <input type="password" class="form-input" id="setting-SMTP_PASS" placeholder="password">
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (TLS/SSL)</label>
                  <select class="form-input" id="setting-SMTP_SECURE">
                    <option value="false">–ù–µ—Ç</option>
                    <option value="true">–î–∞</option>
                  </select>
                </div>
                <div>
                  <label class="form-label">–ò–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è</label>
                  <input type="text" class="form-input" id="setting-EMAIL_FROM_NAME" placeholder="Asterisk Analytics">
                </div>
              </div>
              <div>
                <label class="form-label">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ (Cron)</label>
                <input type="text" class="form-input" id="setting-EMAIL_CRON_SCHEDULE" placeholder="59 23 * * *">
              </div>
            </div>
          </div>

          <!-- Server Settings -->
          <div>
            <h3 style="margin: 0 0 var(--md-spacing-md) 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface);">–°–µ—Ä–≤–µ—Ä</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
              <div>
                <label class="form-label">–ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞</label>
                <input type="number" class="form-input" id="setting-PORT" placeholder="3000" min="1" max="65535">
              </div>
              <div>
                <label class="form-label">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</label>
                <input type="text" class="form-input" id="setting-TZ" placeholder="Europe/Moscow">
              </div>
            </div>
          </div>

          <!-- Working Hours Settings -->
          <div>
            <h3 style="margin: 0 0 var(--md-spacing-md) 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface);">‚è∞ –†–∞–±–æ—á–∏–µ —á–∞—Å—ã</h3>
            <p style="margin: 0 0 var(--md-spacing-md) 0; font-size: 0.85rem; color: var(--text-tertiary);">–ó–≤–æ–Ω–∫–∏ –≤–Ω–µ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –Ω–µ –±—É–¥—É—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: var(--md-spacing-md);">
              <div>
                <label class="form-label">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è</label>
                <input type="time" class="form-input" id="setting-WORK_HOURS_START" value="07:00">
              </div>
              <div>
                <label class="form-label">–ö–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è</label>
                <input type="time" class="form-input" id="setting-WORK_HOURS_END" value="23:59">
              </div>
              <div>
                <label class="form-label">–§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Å–∞–º</label>
                <select class="form-input" id="setting-WORK_HOURS_ENABLED">
                  <option value="true">–í–∫–ª—é—á—ë–Ω</option>
                  <option value="false">–í—ã–∫–ª—é—á–µ–Ω</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Other Settings -->
          <div>
            <h3 style="margin: 0 0 var(--md-spacing-md) 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface);">–ü—Ä–æ—á–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div style="display: grid; gap: var(--md-spacing-md);">
              <div>
                <label class="form-label">–ü—É—Ç—å –∫ –∑–∞–ø–∏—Å—è–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤</label>
                <input type="text" class="form-input" id="setting-RECORDINGS_PATH" placeholder="/var/spool/asterisk/monitor">
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–æ–º–µ—Ä–∞ –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö</label>
                  <input type="number" class="form-input" id="setting-OUTBOUND_MIN_LENGTH" placeholder="4" min="1">
                </div>
                <div>
                  <label class="form-label">–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –æ—á–µ—Ä–µ–¥–µ–π (–º—Å)</label>
                  <input type="number" class="form-input" id="setting-QUEUES_CACHE_TTL" placeholder="3600000" min="0">
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: var(--md-spacing-md);">
                <div>
                  <label class="form-label">–£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã</label>
                  <select class="form-input" id="setting-USE_ULTRA_FAST_QUERIES">
                    <option value="true">–í–∫–ª—é—á–µ–Ω–æ</option>
                    <option value="false">–í—ã–∫–ª—é—á–µ–Ω–æ</option>
                  </select>
                </div>
                <div>
                  <label class="form-label">–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</label>
                  <select class="form-input" id="setting-USE_PARALLEL_QUERIES">
                    <option value="true">–í–∫–ª—é—á–µ–Ω–æ</option>
                    <option value="false">–í—ã–∫–ª—é—á–µ–Ω–æ</option>
                  </select>
                </div>
                <div>
                  <label class="form-label">–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏</label>
                  <select class="form-input" id="setting-DEBUG">
                    <option value="false">–í—ã–∫–ª—é—á–µ–Ω–æ</option>
                    <option value="true">–í–∫–ª—é—á–µ–Ω–æ</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div style="display: flex; gap: var(--md-spacing-md); justify-content: flex-end; margin-top: var(--md-spacing-lg); padding-top: var(--md-spacing-lg); border-top: 1px solid var(--md-sys-color-outline);">
          <button type="button" class="export-btn" id="settings-cancel-btn" style="background: var(--md-sys-color-surface-variant); color: var(--md-sys-color-on-surface-variant);">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button type="button" class="export-btn" id="settings-save-btn">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
